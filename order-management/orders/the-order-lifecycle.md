---
description: Learn about the order lifecycle
---

# The order lifecycle

An [order](https://www.digitalriver.com/docs/digital-river-api-reference/#tag/Orders) has a defined lifecycle. Each stage of that lifecycle is represented by `state`. When an [order's](https://www.digitalriver.com/docs/digital-river-api-reference/#tag/Orders) `state` changes, an [event](https://www.digitalriver.com/docs/digital-river-api-reference/#tag/Events) is created that represents that change. For example, when an order's `state` transitions from `accepted` to `fulfilled` an `order.fulfilled` event is created.

## Order states and events

The following lists an [order's](https://www.digitalriver.com/docs/digital-river-api-reference/#tag/Orders) enumerated `state` values and the events associated with each state change. These state transitions are listed in the approximate sequence they might occur in an order's lifecycle:

| (1) When the order...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | (2) state transitions to...                                                                                    | (3) and an ... event is emitted.                                                                                     |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------- |
| [charge](payment-charges/) isn't yet [capturable](payment-charges/#how-a-charge-is-created) and could still be pending [fraud review](the-order-lifecycle.md#fraud-review)                                                                                                                                                                                                                                                                                                                                                                        | [`pending_payment`](../creating-and-updating-an-order.md#handling-pending-payment-orders)                      | [`order.pending_payment`](../creating-and-updating-an-order.md#the-pending-payment-event)                            |
| charge is capturable, but the order requires further [fraud review](the-order-lifecycle.md#fraud-review), and, as a result, is still _not_ ready to fulfill                                                                                                                                                                                                                                                                                                                                                                                       | [`in_review`](../creating-and-updating-an-order.md#handling-in-review-orders)                                  | [`order.review_opened`](../creating-and-updating-an-order.md#the-fraud-review-failure-event-1)                       |
| charge is [capturable](payment-charges/#captures), has passed [fraud review](the-order-lifecycle.md#fraud-review) or the [Denied Parties List](https://www.cbp.gov/trade/trade-community/programs-outreach/blocked-denied-debarred) (DPL), and is ready to fulfill                                                                                                                                                                                                                                                                                | [`accepted`](../creating-and-updating-an-order.md#handling-accepted-orders)                                    | [`order.accepted`](../creating-and-updating-an-order.md#listening-for-the-order-accepted-event)                      |
| fails because it is blocked by [fraud review](the-order-lifecycle.md#fraud-review) or the customer is determined to be on the [DPL](https://www.cbp.gov/trade/trade-community/programs-outreach/blocked-denied-debarred)                                                                                                                                                                                                                                                                                                                          | `blocked`                                                                                                      | [`order.blocked`](../creating-and-updating-an-order.md#the-fraud-review-failure-event)                               |
| is fully [cancelled](../informing-digital-river-of-a-fulfillment.md#submitting-fulfillment-and-cancellation-requests)                                                                                                                                                                                                                                                                                                                                                                                                                             | [`cancelled`](../creating-and-updating-an-order.md#handling-the-order.cancelled-event)                         | [`order.cancelled`](../creating-and-updating-an-order.md#the-order-cancelled-event)                                  |
| is completely [fulfilled](../informing-digital-river-of-a-fulfillment.md#submitting-fulfillment-and-cancellation-requests) _or_ partially fulfilled and the remaining `items[]` are cancelled                                                                                                                                                                                                                                                                                                                                                     | [`fulfilled`](../informing-digital-river-of-a-fulfillment.md#submitting-fulfillment-and-cancellation-requests) | [`order.fulfilled`](../informing-digital-river-of-a-fulfillment.md#submitting-fulfillment-and-cancellation-requests) |
| <p>is <a href="../informing-digital-river-of-a-fulfillment.md#submitting-fulfillment-and-cancellation-requests">fulfilled</a> and the charge is fully <a href="payment-charges/#captures">captured</a> <em>or</em> partially fulfilled with a partially captured charge and the remaining <code>items[]</code> are <a href="../informing-digital-river-of-a-fulfillment.md#submitting-fulfillment-and-cancellation-requests">cancelled</a> <em>or</em></p><p>the order <a href="payment-charges/#the-charge-lifecycle">charge is complete</a></p> | `complete`                                                                                                     | [`order.complete`](../informing-digital-river-of-a-fulfillment.md#handling-the-order-complete-event)                 |
| is fully returned _or_ partially returned and its remaining `items[]` are [cancelled](../informing-digital-river-of-a-fulfillment.md#partially-cancelling-an-order) or partially/fully [refunded](../returns-and-refunds-1/refunds/issuing-refunds.md)                                                                                                                                                                                                                                                                                            | `returned`                                                                                                     | `order.refunded`                                                                                                     |
| [charges](payment-charges/) are disputed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | `dispute`                                                                                                      | [`order.dispute`](../returns-and-refunds-1/disputes-and-chargebacks.md)                                              |

The `state` values for a successful [order](https://www.digitalriver.com/docs/digital-river-api-reference/#tag/Orders) (i.e. the happy path) are `pending_payment` > `in_review` > `accepted` > `fulfilled` > `complete` . As the [order](the-order-lifecycle.md#order-states-and-events) moves from one `state` to another, that event is recorded with a timestamp in `stateTransitions`.

## Fraud review

An [order](https://www.digitalriver.com/docs/digital-river-api-reference/#tag/Orders) must also pass through fraud review. When exactly this review occurs in an [order's lifecycle](the-order-lifecycle.md#order-states-and-events) depends on the [payment method](../../payments/supported-payment-methods/) used by the customer. The different stages of the review are represented by `fraudState`, whose enumerated values are `review_opened`, `blocked`, and `passed`. When `fraudState` changes, an [event](../events-and-webhooks-1/events-1/) is created.
